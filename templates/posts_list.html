{% extends "index.html" %}

{% block title %}Posts - Personal Blog{% endblock %}

{% block content %}
<section class="max-w-4xl mx-auto px-4 py-8 md:py-12">
    {% if posts.is_empty() %}
    <div class="text-center py-12 md:py-16">
        <p class="text-lg text-slate-500 dark:text-slate-400 font-light">No posts found.</p>
    </div>
    {% else %}
    <div class="space-y-6 md:space-y-8">
        {% for post in posts %}
        <article
            class="group border-b border-slate-200 dark:border-slate-800 pb-6 md:pb-8 hover:bg-slate-50 dark:hover:bg-slate-900/50 -mx-4 px-4 py-6 md:-mx-6 md:px-6 transition-colors">
            <h2 class="text-xl sm:text-2xl font-light tracking-tight mb-3">
                <a href="/posts/{{ post.markdown.slug }}"
                    class="hover:text-slate-600 dark:hover:text-slate-300 transition-colors">
                    {{ post.markdown.title }}
                </a>
            </h2>

            <div class="flex flex-wrap gap-4 text-sm text-slate-600 dark:text-slate-400">
                <span class="font-light">{{ post.markdown.date }}</span>

                {% if post.markdown.tags.len() > 0 %}
                <div class="flex gap-2 flex-wrap">
                    {% for tag in post.markdown.tags %}
                    <span
                        class="px-2 py-1 text-xs bg-slate-100 dark:bg-slate-800 rounded text-slate-700 dark:text-slate-300 font-medium">{{
                        tag }}</span>
                    {% endfor %}
                </div>
                {% endif %}

                {% match post.markdown.series %}
                {% when Some(series) %}
                <span class="italic text-slate-500 dark:text-slate-500">{{ series.title }} â€” Ep. {{ series.ep }}</span>
                {% when None %}
                {% endmatch %}
            </div>
        </article>
        {% endfor %}
    </div>
    {% endif %}
</section>
{% endblock %}